{% extends "base.html" %}
{% load static %}
{% block page_title %} Home {% endblock page_title %}

{% block content %}

    <!-- 지도를 위한 style css-->
    <style>
        .map_wrap {position:relative;width:100%;height:350px;}
        .title {font-weight:bold;display:block;}
        .hAddr {position:absolute;left:10px;top:10px;border-radius: 2px;background:#fff;background:rgba(255,255,255,0.8);z-index:1;padding:5px;}
        #centerAddr {display:block;margin-top:2px;font-weight: normal;}
        .bAddr {padding:5px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;}
    </style>
    <div class="container mx-auto mt-36">
        <div class="container mx-auto h-50vh">
            <div class="map_wrap">
                <div id="map" class="bg-gray-400 border rounded-xl w-full h-50vh relative overflow-hidden"></div>
                <div class="hAddr">
                    <span class="title">지도중심기준 행정동 주소정보</span>
                    <span id="centerAddr">로딩중입니다..</span>
                </div>
            </div>
        </div>

        <div class="container text-center font-dohyun text-3xl my-5 flex flex-col mx-auto">
        
            <span class="my-4 p-2 text-gray-500">회원님의 위치를 입력해주세요. 정확하지 않은 위치를 보정합니다.</span> 
            <span id="warningmsg" class="text-xl"></span>
            <span id="reasonmsg" class="text-xl"></span>
            <div class="container py-5 w-1/2 mx-auto">
                <div class="flex flex-col items-center text-2xl">
                    <textarea id="msg" class="border rounded-md w-1/2 mr-3 animate-bounce"></textarea>
                </div>
            </div>

        </div>

        <div class="container justify-center mx-auto p-2 w-1/2 flex mb-10">
            
            <a href="{% url 'users:verify-complete' %}">
                <span id="btn-yes" class="verify_btn h-1/3 w-1/2 my-auto text-black hover:border-yellow-400 hover:text-white hover:bg-yellow-400">
                    업데이트
                </span>
            
            </a>
    
           
        </div>
        
        <div class="text-center text-lg">
            {{user.username}} 님의 위치 인증 정보를 업데이트 합니다.
        </div>

        <div class="text-center text-lg">
            검색 결과를 불러오는데 몇 초의 시간이 걸릴 수 있습니다.
        </div>

    
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey={{client_id_kakao}}&libraries=services"></script>
        <script>
            var verify_detail_url = "{% url 'users:verify-detail' %}";
            var verify_complete_url = "{% url 'users:verify-complete' %}";
        </script>
        
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script src="{% static 'js/map_verify_detail.js' %}">
            
        </script>
  
        <div class="font-sans-kr">
            <button></button>
        </div>  

</div>
{% endblock content %}
